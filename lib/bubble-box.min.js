window.com=window.com||{};com.ee=com.ee||{};com.ee.ui=com.ee.ui||{};this.com.ee.ui.BubbleBox=(function(){function a(c,b){var d;this.canvas=c;console.log("constructor: "+this.canvas+", "+b);this.initConfig(b);d=this.canvas.getContext("2d");this.drawBubble(d,0,0,this.canvas.width,this.canvas.height,this.options.cornerRadius)}a.prototype.initConfig=function(b){this.options={bg:"#ffffff",borderColor:"#99ff99",borderThickness:3,cornerRadius:20,arrowHeight:25,arrowWidth:50};$.extend(this.options,b);return null};a.prototype.drawBubble=function(n,i,g,j,f,b){var c,d,e,k,m,l;e=f-this.options.arrowHeight;c=Math.floor(this.options.arrowWidth/2);k=Math.floor(j/2);d=this.options.borderThickness;l=function(h){return h+d};m=function(h){return h-d};n.strokeStyle=this.options.borderColor;n.fillStyle=this.options.bg;n.lineWidth=this.options.borderThickness;n.beginPath();n.moveTo(l(i+b),l(g));n.lineTo(m(i+j-b),l(g));n.quadraticCurveTo(m(i+j),l(g),m(i+j),l(g+b));n.lineTo(m(i+j),m(g+e-b));n.quadraticCurveTo(m(i+j),m(g+e),m(i+j-b),m(g+e));n.lineTo(l(i+k+c),m(g+e));n.lineTo(l(i+k),m(g+f));n.lineTo(l(i+k-c),m(g+e));n.lineTo(l(i+b),m(g+e));n.quadraticCurveTo(l(i),m(g+e),l(i),m(g+e-b));n.lineTo(l(i),l(g+b));n.quadraticCurveTo(l(i),l(g),l(i+b),l(g));n.closePath();n.stroke();n.fill();return null};return a})();